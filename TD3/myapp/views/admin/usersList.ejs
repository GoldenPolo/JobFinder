<!DOCTYPE html> 
<html lang="fr">
    <head>
    <meta charset="UTF-8"> 
    <title></title>
    <meta name="description" content="">
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    </head> 
    <body> 
        <!-- Latest compiled JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

        <nav class="navbar navbar-expand-sm">
            <div class="container-fluid d-flex border-top-0 border-bottom border-dark">
                <div class="col col-2">
                    <img class="img-fluid m-2" src="/images/logo.png" alt="logo">
                </div>
                <ul class="navbar-nav">
                    <li>
                        <a class="btn btn-outline-secondary m-2 me-5" href="/admin/usersList">Utilisateurs</a>
                    </li>
                    <li>
                        <a class="btn btn-outline-secondary m-2 me-5" href="/admin/organisationsList">Organisations</a>
                    </li>
                    <li>
                        <a class="btn btn-outline-secondary m-2 me-5" href="/logout">Déconnexion</a>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="d-flex justify-content-end my-2">
            <div class="col-auto me-3">
                <div class="dropdown">
                    <button id="btnGroupDrop1" type="button" class="btn btn-outline-secondary dropdown-toggle float-right" data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
                    Prix
                    </button>
                    <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                        <a class="dropdown-item" href="index.html">Salaire</a>
                    </div>
                </div>
            </div>
            <div class="col-auto me-3">
                <div class="dropdown">
                    <button id="btnGroupDrop1" type="button" class="btn btn-outline-secondary dropdown-toggle float-right" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Filtrer par
                    </button>
                    <div class="dropdown-menu" aria-labelledby="btnGroupDrop2">
                        <a class="dropdown-item">Récent à ancient</a>
                        <a class="dropdown-item">Distance croissante</a>
                        <a class="dropdown-item">Salaire décroissant</a>
                    </div>
                </div>
            </div>
            <div class="col-auto me-3">
              <form action="/admin/searchUser" method="get">
                  <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Rechercher un utilisateur..." name="q">
                    <button class="btn btn-outline-secondary" type="submit">Rechercher</button>
                  </div>
                </form>
              </div>
        </div>
        
        <div class="col list-group">
            <% if (users.length > 0) { %>
              <% users.forEach((user)=> { %>
                <a href="/admin/userDetails?id=<%= user.id %>" class="list-group-item list-group-item-action">
                  <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1"> <%= user.prenom %> <%= user.nom %></h5>
                    <div class="d-inline-flex">
                      <button id="btnDetails"  type="button" class="btn btn-outline-secondary mx-2">Admin</button>
                      <button id="btnDetails"  type="button" class="btn btn-outline-secondary mx-2">Modifier</button>
                      <button id="btnDetails"  type="button" class="btn btn-outline-secondary mx-2">Supprimer</button>
                    </div>
                  </div>
                  <div class="d-flex w-100">
                    <p class="mx-2">Role : <%= user.type %></p>
                  </div>
                </a>
              <% }); %>
            <% } else { %>
              <p>Aucun utilisateur trouvé </p>
              <% } %>

              <% if (paginationInfo) { %>
                <nav class="navbar d-flex justify-content-center" aria-label="Page navigation"">
                  <ul class="pagination">
                    <li class="page-item <% if (paginationInfo.currentPage === 1) { %>disabled<% } %>">
                      <a class="page-link" href="/admin/usersList?page=<%= paginationInfo.currentPage - 1 %>&size=<%= paginationInfo.pageSize %>" tabindex="-1">Previous</a>
                    </li>
                    <% paginationInfo.pages.forEach((page) => { %>
                      <li class="page-item <% if (paginationInfo.currentPage === page) { %>active<% } %>">
                        <a class="page-link" href="/admin/usersList?page=<%= page %>&size=<%= paginationInfo.pageSize %>"><%= page %></a>
                      </li>
                    <% }); %>
                    <li class="page-item <% if (paginationInfo.currentPage === paginationInfo.totalPages) { %>disabled<% } %>">
                      <a class="page-link" href="/admin/usersList?page=<%= paginationInfo.currentPage + 1 %>&size=<%= paginationInfo.pageSize %>">Next</a>
                    </li>
                  </ul>
                </nav>
              <% } %>
       
            
          

        
    </body> 
</html>
